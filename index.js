const telegramApi = require('node-telegram-bot-api')
require('dotenv').config()

const bot = new telegramApi(process.env.BOT_TOKEN, {polling: true})

const containSpam = (message) => {
    let result = false
    const stopWords = [
        'профиль',
        'профили',
        'профиля',
        'профилей',
        'профилю',
        'профилям',
        'профиль',
        'профили',
        'профилем',
        'профилями',
        'профиле',
        'профилях',
        'аккаунт',
        'аккаунты',
        'аккаунта',
        'аккаунтов',
        'аккаунту',
        'аккаунтам',
        'аккаунт',
        'аккаунты',
        'аккаунтом',
        'аккаунтами',
        'аккаунте',
        'аккаунтах',
        'чек',
        'чеки',
        'чека',
        'чеков',
        'чеку',
        'чекам',
        'чек',
        'чеки',
        'чеком',
        'чеками',
        'чеке',
        'чеках',
        'продажа',
        'продажи',
        'продажи',
        'продаж',
        'продаже',
        'продажам',
        'продажу',
        'продажи',
        'продажей',
        'продажею',
        'продажами',
        'продаже',
        'продажах',
        'воронка',
        'воронки',
        'воронки',
        'воронок',
        'воронке',
        'воронкам',
        'воронку',
        'воронки',
        'воронкой',
        'воронкою',
        'воронками',
        'воронке',
        'воронках',
        'заработок',
        'заработки',
        'заработка',
        'заработков',
        'заработку',
        'заработкам',
        'заработок',
        'заработки',
        'заработком',
        'заработками',
        'заработке',
        'заработках',
        'доход',
        'доходы',
        'дохода',
        'доходу',
        'доходов',
        'доходу',
        'доходам',
        'доход',
        'доходы',
        'доходом',
        'доходами',
        'доходе',
        'доходах',
        'арбитраж',
        'арбитражи',
        'арбитража',
        'арбитражей',
        'арбитражу',
        'арбитражам',
        'арбитраж',
        'арбитражи',
        'арбитражем',
        'арбитражами',
        'арбитраже',
        'арбитражах',
        'криптовалюта',
        'криптовалюты',
        'криптовалюты',
        'криптовалют',
        'криптовалюте',
        'криптовалютам',
        'криптовалюту',
        'криптовалюты',
        'криптовалютой',
        'криптовалютою',
        'криптовалютами',
        'криптовалюте',
        'криптовалютах',
        'подработка',
        'подработки',
        'подработки',
        'подработок',
        'подработке',
        'подработкам',
        'подработку',
        'подработки',
        'подработкой',
        'подработкою',
        'подработками',
        'подработке',
        'подработках',
        'сделка',
        'сделки',
        'сделки',
        'сделок',
        'сделке',
        'сделкам',
        'сделку',
        'сделки',
        'сделкой',
        'сделкою',
        'сделками',
        'сделке',
        'сделках',
        'заём',
        'займ',
        'займы',
        'займа',
        'займов',
        'займу',
        'займам',
        'заём',
        'займ',
        'займы',
        'займом',
        'займами',
        'займе',
        'займах',
        'доходность',
        'доходности',
        'доходности',
        'доходностей',
        'доходности',
        'доходностям',
        'доходность',
        'доходности',
        'доходностью',
        'доходностями',
        'доходности',
        'доходностях',
        'предоплата',
        'предоплаты',
        'предоплаты',
        'предоплат',
        'предоплате',
        'предоплатам',
        'предоплату',
        'предоплаты',
        'предоплатой',
        'предоплатою',
        'предоплатами',
        'предоплате',
        'предоплатах',
        'компаньон',
        'компаньоны',
        'компаньона',
        'компаньонов',
        'компаньону',
        'компаньонам',
        'компаньона',
        'компаньонов',
        'компаньоном',
        'компаньонами',
        'компаньоне',
        'компаньонах',
        'кредит',
        'кредиты',
        'кредита',
        'кредитов',
        'кредиту',
        'кредитам',
        'кредит',
        'кредиты',
        'кредитом',
        'кредитами',
        'кредите',
        'кредитах',
        'долг',
        'долги',
        'долга',
        'долгу',
        'долгов',
        'долгу',
        'долгам',
        'долг',
        'долги',
        'долгом',
        'долгами',
        'долге',
        'долгах',
        'халява',
        'халявы',
        'халявы',
        'халяв',
        'халяве',
        'халявам',
        'халяву',
        'халявы',
        'халявой',
        'халявою',
        'халявами',
        'халяве',
        'халявах',
        'ниша',
        'ниши',
        'ниши',
        'ниш',
        'нише',
        'нишам',
        'нишу',
        'ниши',
        'нишей',
        'нишею',
        'нишами',
        'нише',
        'нишах',
        'прибыльность',
        'прибыльности',
        'прибыльности',
        'прибыльностей',
        'прибыльности',
        'прибыльностям',
        'прибыльность',
        'прибыльности',
        'прибыльностью',
        'прибыльностями',
        'прибыльности',
        'прибыльностях',
        'уникальный',
        'уникальная',
        'уникальное',
        'уникальные',
        'уникального',
        'уникальной',
        'уникального',
        'уникальных',
        'уникальному',
        'уникальной',
        'уникальному',
        'уникальным',
        'уникального',
        'уникальную',
        'уникальное',
        'уникальных',
        'уникальный',
        'уникальную',
        'уникальное',
        'уникальные',
        'уникальным',
        'уникальной',
        'уникальною',
        'уникальным',
        'уникальными',
        'уникальном',
        'уникальной',
        'уникальном',
        'уникальных',
        'продающий',
        'продающая',
        'продающее',
        'продающие',
        'продающего',
        'продающей',
        'продающего',
        'продающих',
        'продающему',
        'продающей',
        'продающему',
        'продающим',
        'продающего',
        'продающий',
        'продающую',
        'продающее',
        'продающих',
        'продающие',
        'продающим',
        'продающей',
        'продающею',
        'продающим',
        'продающими',
        'продающем',
        'продающей',
        'продающем',
        'продающих',
        'заработать',
        'заработаю',
        'заработаем',
        'заработаешь',
        'заработаете',
        'заработает',
        'заработают',
        'заработал',
        'заработала',
        'заработало',
        'заработали',
        'заработаю',
        'заработаем',
        'заработаешь',
        'заработаете',
        'заработает',
        'заработают',
        'заработай',
        'заработайте',
        'заработал',
        'заработала',
        'заработало',
        'заработали',
        'заработай',
        'заработайте',
        'зарабатывать',
        'зарабатываю',
        'зарабатываем',
        'зарабатываешь',
        'зарабатываете',
        'зарабатывает',
        'зарабатывают',
        'зарабатывал',
        'зарабатывала',
        'зарабатывало',
        'зарабатывали',
        'зарабатывай',
        'зарабатывайте',
        'подрабатывать',
        'подрабатываю',
        'подрабатываем',
        'подрабатываешь',
        'подрабатываете',
        'подрабатывает',
        'подрабатывают',
        'подрабатывал',
        'подрабатывала',
        'подрабатывало',
        'подрабатывали',
        'подрабатывай',
        'подрабатывайте',
        'хaляв',
        'хaляв',
        'хaляв',
        'xаляв',
        'xaляв',
        'xaляв',
        'xаляв',
        'биржа',
        'биржи',
        'бирж',
        'бирже',
        'биржам',
        'биржу',
        'биржи',
        'биржей',
        'биржами',
        'бирже',
        'биржах',
        'прибыльный',
        'прибыльные',
        'прибыльного',
        'прибыльных',
        'прибыльному',
        'прибыльным',
        'прибыльный',
        'прибыльные',
        'прибыльным',
        'прибыльными',
        'прибыльном',
        'прибыльных',
    ]

    for (let i = 0; i < stopWords.length; i++) {
        if (message.includes(stopWords[i].toLowerCase())) {
            result = true
            break
        }
    }

    return result
}

bot.on('message', msg => {
    const chatId = msg.chat.id
    const message = msg.text.toString().toLowerCase()

    if (containSpam(message)) {
        bot.deleteMessage(chatId, msg.message_id)
    }
})